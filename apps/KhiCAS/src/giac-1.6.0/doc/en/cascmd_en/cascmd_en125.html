<!DOCTYPE html>
<html >
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="hevea 2.29+5 of 2017-05-18">
<link rel="stylesheet" type="text/css" href="cascmd_en.css">
<title>Continued fraction representation of a real : dfc</title>
</head>
<body >
<a href="cascmd_en124.html"><img src="previous_motif.gif" alt="Previous"></a>
<a href="index.html"><img src="contents_motif.gif" alt="Up"></a>
<a href="cascmd_en126.html"><img src="next_motif.gif" alt="Next"></a>
<hr>
<h3 id="sec160" class="subsection">5.8.7  Continued fraction representation of a real : <span style="font-family:monospace">dfc</span></h3>
<p><a id="hevea_default216"></a><a id="sec:convertdfc"></a><a id="hevea_default217"></a>
<span style="font-family:monospace">dfc</span> takes as argument a real or a rational or a
floating point number <span style="font-family:monospace">a</span> and an integer <span style="font-family:monospace">n</span> 
(or a real <span style="font-family:monospace">epsilon</span>).<br>
<span style="font-family:monospace">dfc</span> returns the list of the continued fraction representation 
of <span style="font-family:monospace">a</span> of order <span style="font-family:monospace">n</span> (or with precision <span style="font-family:monospace">epsilon</span> i.e. 
the continued fraction representation which 
approximates <span style="font-family:monospace">a</span> or <span style="font-family:monospace">evalf(a)</span> with precision 
<span style="font-family:monospace">epsilon</span>, by default <span style="font-family:monospace">epsilon</span> is the value of the <span style="font-family:monospace">epsilon</span> 
defined in the <span style="font-family:monospace">cas</span> configuration with the menu 
<span style="font-family:monospace">Cfg</span>▸<span style="font-family:monospace">Cas Configuration</span>).<br>
<span style="font-family:monospace">convert</span> with the option <span style="font-family:monospace">confrac</span> has a similar
functionality: in that case
the value of <span style="font-family:monospace">epsilon</span> is the value of the <span style="font-family:monospace">epsilon</span> 
defined in the <span style="font-family:monospace">cas</span> configuration with the menu 
<span style="font-family:monospace">Cfg</span>▸<span style="font-family:monospace">Cas Configuration</span> (see
<a href="cascmd_en269.html#sec%3Aconvert">5.24.27</a>)
and the answer may be stored in an optional third argument.</p><p><span style="font-weight:bold">Remarks</span> 
</p><ul class="itemize"><li class="li-itemize">
If the last element of the result is a list, the representation is 
ultimately periodic, and the last element is the period. It means
that the real is a root of an equation of order 2 with integer
coefficients.
</li><li class="li-itemize">if the last element of the result is not an integer, it 
represents a remainder <span style="font-style:italic">r</span> (<span style="font-style:italic">a</span>=<span style="font-style:italic">a</span>0+1/....+1/<span style="font-style:italic">an</span>+1/<span style="font-style:italic">r</span>). Be aware
that this remainder has lost most of its accuracy.
</li></ul><p>
If <span style="font-family:monospace">dfc(a)=[a0,a1,a2,[b0,b1]]</span> that means :
</p><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">a</span>=<span style="font-style:italic">a</span>0+</td><td class="dcell"><table class="display"><tr><td class="dcell" style="text-align:center">1</td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center"><table class="display"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">a</span>1+</td><td class="dcell"><table class="display"><tr><td class="dcell" style="text-align:center">1</td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center"><table class="display"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">a</span>2+</td><td class="dcell"><table class="display"><tr><td class="dcell" style="text-align:center">1</td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center"><table class="display"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">b</span>0+</td><td class="dcell"><table class="display"><tr><td class="dcell" style="text-align:center">1</td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center"><table class="display"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">b</span>1+</td><td class="dcell"><table class="display"><tr><td class="dcell" style="text-align:center">1</td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center"><span style="font-style:italic">b</span>0+...</td></tr>
</table></td></tr>
</table></td></tr>
</table></td></tr>
</table></td></tr>
</table></td></tr>
</table></td></tr>
</table></td></tr>
</table></td></tr>
</table></td><td class="dcell"> 
</td></tr>
</table><p>
If <span style="font-family:monospace">dfc(a)=[a0,a1,a2,r]</span> that means :
</p><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">a</span>=<span style="font-style:italic">a</span>0+</td><td class="dcell"><table class="display"><tr><td class="dcell" style="text-align:center">1</td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center"><table class="display"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">a</span>1+</td><td class="dcell"><table class="display"><tr><td class="dcell" style="text-align:center">1</td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center"><table class="display"><tr style="vertical-align:middle"><td class="dcell"><span style="font-style:italic">a</span>2+</td><td class="dcell"><table class="display"><tr><td class="dcell" style="text-align:center">1</td></tr>
<tr><td class="hbar"></td></tr>
<tr><td class="dcell" style="text-align:center"><span style="font-style:italic">r</span></td></tr>
</table></td></tr>
</table></td></tr>
</table></td></tr>
</table></td></tr>
</table></td><td class="dcell"> </td></tr>
</table><p>
Input :
</p><div class="center"><span style="font-family:monospace">dfc(sqrt(2),5)</span></div><p>
Output :
</p><div class="center"><span style="font-family:monospace">[1,2,[2]]</span></div><p> 
Input :
</p><div class="center"><span style="font-family:monospace">dfc(evalf(sqrt(2)),1e-9)</span></div><p>
or : 
</p><div class="center"><span style="font-family:monospace">dfc(sqrt(2),1e-9)</span></div><p>
Output :
</p><div class="center"><span style="font-family:monospace">[1,2,2,2,2,2,2,2,2,2,2,2,2]</span></div><p> 
Input :
</p><div class="center"><span style="font-family:monospace">convert(sqrt(2),confrac,’dev’)</span></div><p>
Output (if in the <span style="font-family:monospace">cas</span> configuration <span style="font-family:monospace">epsilon=1e-9</span>) :
</p><div class="center"><span style="font-family:monospace">[1,2,2,2,2,2,2,2,2,2,2,2,2]</span></div><p> 
and <span style="font-family:monospace">[1,2,2,2,2,2,2,2,2,2,2,2,2]</span> is stored in <span style="font-family:monospace">dev</span>.<br>
Input :
</p><div class="center"><span style="font-family:monospace">dfc(9976/6961,5)</span></div><p>
Output :
</p><div class="center"><span style="font-family:monospace">[1,2,3,4,5,43/7]</span></div><p> 
Input to verify:
</p><div class="center"><span style="font-family:monospace">1+1/(2+1/(3+1/(4+1/(5+7/43))))</span></div><p>
Output :
</p><div class="center"><span style="font-family:monospace">9976/6961</span></div><p>
Input :
</p><div class="center"><span style="font-family:monospace">convert(9976/6961,confrac,’l’)</span></div><p>
Output (if in the <span style="font-family:monospace">cas</span> configuration <span style="font-family:monospace">epsilon=1e-9</span>) :
</p><div class="center"><span style="font-family:monospace">[1,2,3,4,5,6,7]</span></div><p> 
and <span style="font-family:monospace">[1,2,3,4,5,6,7]</span> is stored in <span style="font-family:monospace">l</span><br>
Input :
</p><div class="center"><span style="font-family:monospace">dfc(pi,5)</span></div><p>
Output :
</p><div class="center"><span style="font-family:monospace">[3,7,15,1,292,(-113*pi+355)/(33102*pi-103993)]</span></div><p> 
Input :
</p><div class="center"><span style="font-family:monospace">dfc(evalf(pi),5)</span></div><p>
Output (if floats are hardware floats, e.g. for Digits=12) :
</p><div class="center"><span style="font-family:monospace">[3,7,15,1,292,1.57581843574]</span></div><p> 
Input :
</p><div class="center"><span style="font-family:monospace">dfc(evalf(pi),1e-9)</span></div><p>
or :
</p><div class="center"><span style="font-family:monospace">dfc(pi,1e-9)</span></div><p>
or (if in the <span style="font-family:monospace">cas</span> configuration <span style="font-family:monospace">epsilon=1e-9</span>) :
</p><div class="center"><span style="font-family:monospace">convert(pi,confrac,’ll’)</span></div><p>
Output :
</p><div class="center"><span style="font-family:monospace">[3,7,15,1,292]</span></div>
<hr>
<a href="cascmd_en124.html"><img src="previous_motif.gif" alt="Previous"></a>
<a href="index.html"><img src="contents_motif.gif" alt="Up"></a>
<a href="cascmd_en126.html"><img src="next_motif.gif" alt="Next"></a>
</body>
</html>
